/*!
 * @cnwhy/base64  v0.2.4
 * Homepage https://github.com/cnwhy/Base64.js#readme
 * License MIT
 */

const t=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},r="function"==typeof ArrayBuffer,e=r?Uint8Array:Array,n=function(t){return r&&t instanceof Uint8Array},o=function(t){return r&&t instanceof ArrayBuffer},i="ï¿½";function f(t){t=String(t);let r=[],e=t.length,n=function(t){return t<128?r.push(t):t<2048?r.push(192|t>>6,128|63&t):t<65536?r.push(224|t>>12,128|t>>6&63,128|63&t):t<2097152?r.push(240|t>>18,128|t>>12&63,128|t>>6&63,128|63&t):void 0};for(let r=0;r<e;r++){let e,o=t.charCodeAt(r);o<55296||o>57343?n(o):o<56320&&(e=t.charCodeAt(r+1))>=56320&&e<57344?(r++,n(65536+((1023&o)<<10|1023&e))):n(o)}return r}function u(r){let e,f="",u=0;if(t(r)||n(r))e=r;else{if(!o(r))return String(r);e=new Uint8Array(r)}for(;u<e.length;){let t=e[u++];if(t<128)f+=String.fromCharCode(t);else{if(t<194||t>253){f+=i;continue}{let r=u,n=0,o=0;for(t<224?(n|=(31&t)<<6,o=1):t<240?(o=2,n|=(15&t)<<12):t<248?(o=3,n|=(7&t)<<18):t<252?(o=4,n|=(3&t)<<24):(o=5,n|=(1&t)<<30);o--;){let t=e[r++];if(t>>6!=2){n=-1;break}n|=(63&t)<<6*o}if(n>65535){let t=n-65536;f+=String.fromCharCode(55296|t>>10),f+=String.fromCharCode(56320|1023&t)}else{if(!(n>0)){f+=i;continue}f+=String.fromCharCode(n)}u=r}}}return f}const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a="=";function c(t,r){let e=String(t||a);if(1!==e.length)throw new TypeError("The apd must be char");if(~r.join("").indexOf(e))throw new TypeError("The table as _pad");return e}function h(r){let e;if("string"==typeof(r=r||l))e=r.split("");else{if(!t(r))throw new TypeError('The "table" must be Array or a String.');e=Array.prototype.slice.call(r,0)}return function(t){if(t.length<64)throw new TypeError('The length of "table" is not 64!');for(let r=0;r<64;r++){let e=t[r];if(1!=e.length)throw new TypeError(`table item "${e}" must be a single character`);for(let n=r+1;n<64;n++)if(e==t[n])throw new TypeError(`Code table character "${e}" is repeated`)}}(e),e}function s(r,e,i){"function"==typeof r&&(i=r,r=void 0,e=void 0);const f=h(r),u=c(e,f);return function(r){let e;if(t(r)||n(r))e=r;else if(o(r))e=new Uint8Array(r);else{if("function"!=typeof i)throw TypeError('Input type is not supported, "strEncode" is not function');e=i(String(r))}for(var l,a,c,h="",s=e.length%3,p=s?2===s?1:2:0,y=e.length-s,g=0;g<y;)l=e[g++],a=e[g++],c=e[g++],h=h+f[l>>2]+f[63&(l<<4|a>>4)]+f[63&(a<<2|c>>6)]+f[63&c];return p&&(l=e[g++],a=e[g++]||0,h=h+f[l>>2]+f[63&(l<<4|a>>4)]+(2===p?u+u:f[a<<2&63]+u)),h}}function p(t,r,n){"function"==typeof t&&(n=t,t=void 0,r=void 0);const o=h(t),i=c(r,o),f=o.join("");let u,l="function"==typeof n?(u=n,function(){return u(this)}):null;return function(t){let r=t.length-function(t){let r=t.length,e=0;for(;r-- >0&&t.charAt(r)===i;)e++;return e}(t),n=r%4;if(1===n)throw new TypeError("The parameter is not a base64 string!");let o=new e(Math.floor(6*r/8)),u=0,a=0;const c=function(){return function(t){let r=f.indexOf(t);if(-1==r)throw new TypeError(`"${t}" not base64 char`);return r}(t.charAt(a++))};for(let t=r-n;a<t;){let[t,r,e,n]=[c(),c(),c(),c()];o[u++]=255&(t<<2|r>>4),o[u++]=255&(r<<4|e>>2),o[u++]=255&(e<<6|n)}if(n){let t;o[u++]=255&(c()<<2|(t=c())>>4),3===n&&(o[u++]=255&(t<<4|c()>>2))}return l&&(o.toString=l),o}}const y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",g=s(f),w=p(u),d=s(y,a,f),A=p(y,a,u);export{l as BASE64_TABLE,y as BASE64_URL_TABLE,a as PAD,p as createDecode,s as createEncode,w as decode,A as decodeURL,g as encode,d as encodeURL,u as utf8Decode,f as utf8Encode};
