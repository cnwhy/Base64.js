/*!
 * @cnwhy/base64  v0.2.2
 * Homepage https://github.com/cnwhy/Base64.js#readme
 * License MIT
 */

!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((r=r||self).Base64={})}(this,function(r){"use strict";var y=Array.isArray||function(r){Object.prototype.toString.call(r)},e="function"==typeof ArrayBuffer,w=e?ArrayBuffer:function(){},g=e?Uint8Array:Array,A=e?function(r){return new Uint8Array(r)}:function(r){return"number"==typeof r?new Array(r):r};function c(r){if(r<128)return[r];for(var e=11;r>=Math.pow(2,e);)e+=5;var t=Math.ceil(e/6),n=new Array(t),o=0;for(n[0]=255^Math.pow(2,8-t)-1|r>>6*(t-1);o<t-1;)n[t-1-o]=128|r>>6*o&63,o++;return n}function t(r){for(var e=[],t=[],n=0;n<r.length;n++){var o=r.charCodeAt(n),a=void 0;o<55296||57343<o?t.push(o):o<56320&&56320<=(a=r.charCodeAt(n+1))&&a<57344?(n++,t.push(65536+((1023&o)<<10|1023&a))):t.push(o)}for(var f=0;f<t.length;f++){var i=t[f];e.push.apply(e,c(i))}return A(e)}function n(r){var h,p="",e=0;if(r instanceof g)h=r;else{if(!(r instanceof w||y(r)))return String(r);h=A(r)}function t(e){var r=e,t=h[r++];try{if(t<128)return p+=String.fromCharCode(t),r;if(t<194||253<t)throw"code err";for(var n=128,o=6,a=[],f=0;t>=(n|Math.pow(2,o));){var i=h[r++];if(192&i^128)throw"code err";a.push(i),n|=Math.pow(2,o),o--}a=a.reverse();for(var c=0;c<a.length;c++){f|=(63&a[c])<<6*c}if(65535<(f|=(t&Math.pow(2,o)-1)<<6*a.length)){var u=f-65536;p+=String.fromCharCode(55296|u>>10),p+=String.fromCharCode(56320|1023&u)}else p+=String.fromCharCode(65535&f);return r}catch(r){return p+="ï¿½",e+1}}for(;e<h.length;)e=t(e);return p}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a="=";function f(r,e){var t=String(r||a);if(1!==t.length)throw new TypeError("The apd must be char");if(~e.join("").indexOf(t))throw new TypeError("The table as _pad");return t}function i(r){var e;if("string"==typeof(r=r||o))e=r.split("");else{if(!y(r))throw new TypeError('The "table" must be Array or a String.');e=Array.prototype.slice.call(r,0)}return function(r){if(r.length<64)throw new TypeError('The length of "table" is not 64!');for(var e=0;e<64;e++){var t=r[e];if(1!=t.length)throw new TypeError('table item "'.concat(t,'" must be a single character'));for(var n=e+1;n<64;n++)if(t==r[n])throw new TypeError('Code table character "'.concat(t,'" is repeated'))}}(e),e}function u(r,e,s){"function"==typeof r&&(s=r,e=r=void 0);var d=i(r),v=f(e,d);return function(r){var e;if(r instanceof g)e=r;else if(r instanceof w||y(r))e=A(r);else{if("function"!=typeof s)throw TypeError('"strEncode" is not function');e=s(String(r))}for(var t=Math.ceil(8*e.length/6),n=4*Math.ceil(e.length/3),o=new Array(n),a=0,f=0;f<e.length;){var i=e[f++],c=e[f++],u=e[f++];o[a++]=i>>2,o[a++]=63&(i<<4|c>>4),o[a++]=63&(c<<2|u>>6),o[a++]=63&u}for(var h="",p=0;p<o.length;p++){var l=o[p];h+=t-1<p?v:d[l]}return h}}function h(r,e,t){"function"==typeof r&&(t=r,e=r=void 0);var n,o=i(r),s=f(e,o),d=o.join(""),v="function"==typeof t?(n=t,function(){return n(this)}):null;return function(r){var e=r.length-function(r){for(var e=r.length,t=0;0<e--&&r.charAt(e)===s;)t++;return t}(r),t=e%4;if(1==t)throw new TypeError("The parameter is not a base64 string!");for(var n=new g(Math.floor(6*e/8)),o=0,a=0,f=function(){return function(r){var e=d.indexOf(r);if(-1==e)throw new TypeError('"'.concat(r,'" not base64 char'));return e}(r.charAt(a++))},i=e-t;a<i;){var c=[f(),f(),f(),f()],u=c[0],h=c[1],p=c[2],l=c[3];n[o++]=255&(u<<2|h>>4),n[o++]=255&(h<<4|p>>2),n[o++]=255&(p<<6|l)}t&&(n[o++]=255&(f()<<2|(h=f())>>4),3==t&&(n[o++]=255&(h<<4|f()>>2)));return v&&(n.toString=v),n}}var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",l=u(o,a,t),s=h(o,a,n),d=u(p,a,t),v=h(p,a,n);r.BASE64_TABLE=o,r.BASE64_URL_TABLE=p,r.PAD=a,r.createDecode=h,r.createEncode=u,r.decode=s,r.decodeURL=v,r.encode=l,r.encodeURL=d,r.utf8Decode=n,r.utf8Encode=t,Object.defineProperty(r,"__esModule",{value:!0})});
