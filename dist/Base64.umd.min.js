/*!
 * @cnwhy/base64  v0.2.4
 * Homepage https://github.com/cnwhy/Base64.js#readme
 * License MIT
 */

!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((r=r||self).Base64={})}(this,function(r){"use strict";function d(r){return e&&r instanceof Uint8Array}function l(r){return e&&r instanceof ArrayBuffer}var y=Array.isArray||function(r){return"[object Array]"==Object.prototype.toString.call(r)},e="function"==typeof ArrayBuffer,v=e?Uint8Array:Array;function t(r){r=String(r);for(var e=[],t=r.length,n=function(r){return r<128?e.push(r):r<2048?e.push(192|r>>6,128|63&r):r<65536?e.push(224|r>>12,128|r>>6&63,128|63&r):r<2097152?e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r):void 0},o=0;o<t;o++){var i=r.charCodeAt(o),f=void 0;i<55296||57343<i?n(i):i<56320&&56320<=(f=r.charCodeAt(o+1))&&f<57344?(o++,n(65536+((1023&i)<<10|1023&f))):n(i)}return e}function n(r){var e,t="",n=0;if(y(r)||d(r))e=r;else{if(!l(r))return String(r);e=new Uint8Array(r)}for(;n<e.length;){var o=e[n++];if(o<128)t+=String.fromCharCode(o);else{if(o<194||253<o){t+="�";continue}var i=n,f=0,a=0;for(o<224?(f|=(31&o)<<6,a=1):o<240?(a=2,f|=(15&o)<<12):o<248?(a=3,f|=(7&o)<<18):o<252?(a=4,f|=(3&o)<<24):(a=5,f|=(1&o)<<30);a--;){var c=e[i++];if(c>>6!=2){f=-1;break}f|=(63&c)<<6*a}if(65535<f){var u=f-65536;t+=String.fromCharCode(55296|u>>10),t+=String.fromCharCode(56320|1023&u)}else{if(!(0<f)){t+="�";continue}t+=String.fromCharCode(f)}n=i}}return t}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i="=";function f(r,e){var t=String(r||i);if(1!==t.length)throw new TypeError("The apd must be char");if(~e.join("").indexOf(t))throw new TypeError("The table as _pad");return t}function a(r){var e;if("string"==typeof(r=r||o))e=r.split("");else{if(!y(r))throw new TypeError('The "table" must be Array or a String.');e=Array.prototype.slice.call(r,0)}return function(r){if(r.length<64)throw new TypeError('The length of "table" is not 64!');for(var e=0;e<64;e++){var t=r[e];if(1!=t.length)throw new TypeError('table item "'.concat(t,'" must be a single character'));for(var n=e+1;n<64;n++)if(t==r[n])throw new TypeError('Code table character "'.concat(t,'" is repeated'))}}(e),e}function c(r,e,h){"function"==typeof r&&(h=r,e=r=void 0);var s=a(r),p=f(e,s);return function(r){var e;if(y(r)||d(r))e=r;else if(l(r))e=new Uint8Array(r);else{if("function"!=typeof h)throw TypeError('Input type is not supported, "strEncode" is not function');e=h(String(r))}for(var t,n,o,i="",f=e.length%3,a=f?2==f?1:2:0,c=e.length-f,u=0;u<c;)t=e[u++],n=e[u++],o=e[u++],i=i+s[t>>2]+s[63&(t<<4|n>>4)]+s[63&(n<<2|o>>6)]+s[63&o];return a&&(t=e[u++],n=e[u++]||0,i=i+s[t>>2]+s[63&(t<<4|n>>4)]+(2==a?p+p:s[n<<2&63]+p)),i}}function u(r,e,t){"function"==typeof r&&(t=r,e=r=void 0);var n,o=a(r),d=f(e,o),l=o.join(""),y="function"==typeof t?(n=t,function(){return n(this)}):null;return function(r){var e=r.length-function(r){for(var e=r.length,t=0;0<e--&&r.charAt(e)===d;)t++;return t}(r),t=e%4;if(1==t)throw new TypeError("The parameter is not a base64 string!");for(var n=new v(Math.floor(6*e/8)),o=0,i=0,f=function(){return function(r){var e=l.indexOf(r);if(-1==e)throw new TypeError('"'.concat(r,'" not base64 char'));return e}(r.charAt(i++))},a=e-t;i<a;){var c=[f(),f(),f(),f()],u=c[0],h=c[1],s=c[2],p=c[3];n[o++]=255&(u<<2|h>>4),n[o++]=255&(h<<4|s>>2),n[o++]=255&(s<<6|p)}t&&(n[o++]=255&(f()<<2|(h=f())>>4),3==t&&(n[o++]=255&(h<<4|f()>>2)));return y&&(n.toString=y),n}}var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",s=c(t),p=u(n),g=c(h,i,t),A=u(h,i,n);r.BASE64_TABLE=o,r.BASE64_URL_TABLE=h,r.PAD=i,r.createDecode=u,r.createEncode=c,r.decode=p,r.decodeURL=A,r.encode=s,r.encodeURL=g,r.utf8Decode=n,r.utf8Encode=t,Object.defineProperty(r,"__esModule",{value:!0})});
